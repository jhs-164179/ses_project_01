{% load static %}

<!doctype html>
<html>

<head>
	<title>page</title>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
	<!-- VENDOR CSS (구형 페이지 지원용)-->
	<link rel="stylesheet" href="{% static 'vendor/bootstrap/css/bootstrap.min.css' %}">
	<link rel="stylesheet" href="{% static 'vendor/font-awesome/css/font-awesome.min.css' %}">
	<link rel="stylesheet" href="{% static 'vendor/linearicons/style.css' %}">
	<link rel="stylesheet" href="{% static 'vendor/chartist/css/chartist-custom.css' %}">
	<!-- MAIN CSS -->
	<link rel="stylesheet" href="{% static 'css/main.css' %}">
	<!-- SUB CSS (패널 탭 수직정렬) -->
	<link rel="stylesheet" href="{% static 'css/bootstrap.vertical-tabs.min.css' %}">
	<!-- GOOGLE FONTS -->
	<link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600,700" rel="stylesheet">
	<!-- ICONS -->
	<link rel="apple-touch-icon" sizes="76x76" href="{% static 'img/apple-icon.png' %}">
	<link rel="icon" type="image/png" sizes="96x96" href="{% static 'img/favicon.png' %}">
</head>

<body>
	<!-- WRAPPER -->
	<div id="wrapper">
		{% include 'datapg/menubar.html' %}
	
		<!-- MAIN -->
		<div class="main" style="padding-top: 50px;">
			<!-- MAIN CONTENT -->
			<div class="main-content" style="padding-top: 15px;">
				<div class="container-fluid">
					<!-- 페이지 상단 -->
					<div class="row">
						<!-- 페이지 좌상단 영역 -->
						<div class="col-md-6">

							<!-- 패널 상단 제목 -->
							<h3 style="text-align: center; margin-top:0px; margin-bottom: 15px;">전기차 현황</h3>

							<div class="panel">
								<div class="panel-heading">
									<!-- 패널(지도) 제목 -->
									<!-- 패널(지도) 제목 -->
									<h3 class="panel-title">전기차 현황</h3>
								</div>
								<div class="panel-body">
									<!-- 카카오 맵 API -->
									<div id="map" style="width:100%; height:600px; margin:auto;"></div>
								</div>
								<!-- 탭별로 전국/지역 별 전기차 대수 순위별로 표시 -->
								<div class="panel-footer" style="height: 150px;">
									<div class="row">
										<div class="col-xs-3"> <!-- required for floating -->
											<!-- Nav tabs -->
											<ul class="nav nav-tabs tabs-left">
												<!-- 전국 전기차 현황 탭 -->
												<li class="active"><a href="#national" onclick="chNation()" data-toggle="tab">전기차<br>(전국)</a></li>
												<!-- 지역별 전기차 현황 탭 -->
												<li class="dropdown">
													<a href="#" id="myTabDrop2" class="dopdown-toggle" data-toggle="dropdown" aria-controls="myTabDrop1-contents2">전기차<span class="caret"></span><br>(지역)</a>
													<ul class="dropdown-menu" aria-labelledby="myTabDrop2" id="myTabDrop1-contents2">
														<li><a href="#dropdown1-2" onclick="chCap()" data-toggle="tab">수도권</a></li>
														<li><a href="#dropdown2-2" onclick="chGang()" data-toggle="tab">강원도</a></li>
														<li><a href="#dropdown3-2" onclick="chChung()" data-toggle="tab">충청도</a></li>
														<li><a href="#dropdown4-2" onclick="chJeolla()" data-toggle="tab">전라도</a></li>
														<li><a href="#dropdown5-2" onclick="chGyeong()" data-toggle="tab">경상도</a></li>
														<li><a href="#dropdown6-2" onclick="chJeju()" data-toggle="tab">제주도</a></li>
													</ul>
												</li>
											</ul>
										</div>
										
										<div class="col-xs-9">
											<!-- Tab panes -->
											<div class="tab-content">
											  	<div class="tab-pane active" id="national">
													<div class="row">
														<div class="col-xs-6">
															<ol style="list-style: none; padding-left: 0px;">
																<!-- 전국 -->
																<li>1. 수도권&ensp;50000대&nbsp;(50%)</li>
																<li style="margin: 10px 0px">2. 경상도&ensp;20000대&nbsp;(20%)</li>
																<li style="margin: 10px 0px">3. 전라도&ensp;18000대&nbsp;(18%)</li>
															</ol>
														</div>
														<div class="col-xs-6">
															<ol style="list-style: none; padding-left: 0px;">
																<li style="margin: 0px 0px">4. 충청도&ensp;7000대&nbsp;(7%)</li>
																<li style="margin: 10px 0px">5. 강원도&ensp;4000대&nbsp;(4%)</li>
																<li style="margin: 10px 0px">5. 제주도&ensp;1000대&nbsp;(1%)</li>
															</ol>
														</div>
													</div>
												</div>
											  	<div class="tab-pane" id="dropdown1-2">
													<div class="row">
														<div class="col-xs-6">
															<ol style="list-style: none; padding-left: 0px;">
																<!-- 수도권 -->
																<li>1. 서울&ensp;30000대&nbsp;(60%)</li>
																<li style="margin: 10px 0px">2. 인천&ensp;15000대&nbsp;(30%)</li>
																<li style="margin: 10px 0px">3. 성남&ensp;2000대&nbsp;(4%)</li>
															</ol>
														</div>
														<div class="col-xs-6">
															<ol style="list-style: none; padding-left: 0px;">
																<li style="margin: 0px 0px">4. 광주&ensp;1500대&nbsp;(3%)</li>
																<li style="margin: 10px 0px">5. 수원&ensp;800대&nbsp;(1.6%)</li>
																<li style="margin: 10px 0px">6. 파주&ensp;700대&nbsp;(1.4%)</li>
															</ol>
														</div>
													</div>
												</div>
											  	<div class="tab-pane" id="dropdown2-2">
													<div class="row">
														<div class="col-xs-6">
															<ol style="list-style: none; padding-left: 0px;">
																<!-- 강원도 -->
																<li>1. 강릉&ensp;30000대&nbsp;(60%)</li>
																<li style="margin: 10px 0px">2. 춘천&ensp;15000대&nbsp;(30%)</li>
																<li style="margin: 10px 0px">3. 삼척&ensp;2000대&nbsp;(4%)</li>
															</ol>
														</div>
														<div class="col-xs-6">
															<ol style="list-style: none; padding-left: 0px;">
																<li style="margin: 0px 0px">4. 동해&ensp;1500대&nbsp;(3%)</li>
																<li style="margin: 10px 0px">5. 원주&ensp;800대&nbsp;(1.6%)</li>
																<li style="margin: 10px 0px">6. 양양&ensp;700대&nbsp;(1.4%)</li>
															</ol>
														</div>
													</div>
												</div>
											  	<div class="tab-pane" id="dropdown3-2">
													<div class="row">
														<div class="col-xs-6">
															<ol style="list-style: none; padding-left: 0px;">
																<!-- 충청도 -->
																<li>1. 대전&ensp;30000대&nbsp;(60%)</li>
																<li style="margin: 10px 0px">2. 세종&ensp;15000대&nbsp;(30%)</li>
																<li style="margin: 10px 0px">3. 천안&ensp;2000대&nbsp;(4%)</li>
															</ol>
														</div>
														<div class="col-xs-6">
															<ol style="list-style: none; padding-left: 0px;">
																<li style="margin: 0px 0px">4. 청주&ensp;1500대&nbsp;(3%)</li>
																<li style="margin: 10px 0px">5. 아산&ensp;800대&nbsp;(1.6%)</li>
																<li style="margin: 10px 0px">6. 서산&ensp;700대&nbsp;(1.4%)</li>
															</ol>
														</div>
													</div>
												</div>
											  	<div class="tab-pane" id="dropdown4-2">
													<div class="row">
														<div class="col-xs-6">
															<ol style="list-style: none; padding-left: 0px;">
																<!-- 전라도 -->
																<li>1. 광주&ensp;30000대&nbsp;(60%)</li>
																<li style="margin: 10px 0px">2. 전주&ensp;15000대&nbsp;(30%)</li>
																<li style="margin: 10px 0px">3. 나주&ensp;2000대&nbsp;(4%)</li>
															</ol>
														</div>
														<div class="col-xs-6">
															<ol style="list-style: none; padding-left: 0px;">
																<li style="margin: 0px 0px">4. 담양&ensp;1500대&nbsp;(3%)</li>
																<li style="margin: 10px 0px">5. 목포&ensp;800대&nbsp;(1.6%)</li>
																<li style="margin: 10px 0px">6. 해남&ensp;700대&nbsp;(1.4%)</li>
															</ol>
														</div>
													</div>
												</div>
											  	<div class="tab-pane" id="dropdown5-2">
													<div class="row">
														<div class="col-xs-6">
															<ol style="list-style: none; padding-left: 0px;">
																<!-- 경상도 -->
																<li>1. 부산&ensp;30000대&nbsp;(60%)</li>
																<li style="margin: 10px 0px">2. 울산&ensp;15000대&nbsp;(30%)</li>
																<li style="margin: 10px 0px">3. 대구&ensp;2000대&nbsp;(4%)</li>
															</ol>
														</div>
														<div class="col-xs-6">
															<ol style="list-style: none; padding-left: 0px;">
																<li style="margin: 0px 0px">4. 경주&ensp;1500대&nbsp;(3%)</li>
																<li style="margin: 10px 0px">5. 상주&ensp;800대&nbsp;(1.6%)</li>
																<li style="margin: 10px 0px">6. 울릉도&ensp;700대&nbsp;(1.4%)</li>
															</ol>
														</div>
													</div>
												</div>
												<div class="tab-pane" id="dropdown6-2">
													<div class="row">
														<div class="col-xs-6">
															<ol style="list-style: none; padding-left: 0px;">
																<!-- 제주도 -->
																<li>1. 서귀포&ensp;30000대&nbsp;(60%)</li>
																<li style="margin: 10px 0px">2. 제주&ensp;15000대&nbsp;(30%)</li>
																<li style="margin: 10px 0px"></li>
															</ol>
														</div>
														<div class="col-xs-6">
															<ol style="list-style: none; padding-left: 0px;">
																<li style="margin: 0px 0px"></li>
																<li style="margin: 10px 0px"></li>
																<li style="margin: 10px 0px"></li>
															</ol>
														</div>
													</div>
												</div>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>

						<!-- 페이지 우상단 영역 -->
						<div class="col-md-6">
							<!-- 그래프(bar , line) -->
							<div class="panel-group">
								<!-- 연령별 차량 등록 대수  -->
								<h3 style="text-align: center; margin-top:0px; margin-bottom: 15px;">주 타겟층</h3>
								<div class="panel">
									<div class="panel-heading">
										<h3 class="panel-title">연령별 차량 등록 대수</h3>
									</div>
									<div class="panel-body">
										<div id="stack-chart" style="width:100%; height:300px; margin:auto;"></div>
									</div>
								</div>
								<!-- 전기차 관련 민원 통계 -->
								<h3 style="text-align: center; margin-top:20px; margin-bottom: 15px;">품질향상이 필요한 전기차 인프라</h3>
								<div class="panel">
									<div class="panel-heading">
										<h3 class="panel-title">전기차 민원</h3>
									</div>
									<div class="panel-body">
										<div id="bar-chart" style="width:100%; height:300px; margin:auto;"></div>
									</div>
								</div>
							</div>
						</div>
					</div>
					

					<!-- 페이지 하단 -->
					<div class="row">
						<!-- 그래프(area) -->
						<!-- 페이지 좌하단 -->
						<div class="col-md-6">
							<!-- 충전소 데이터 분석 그래프 -->
							<h3 style="text-align: center; margin-top:20px; margin-bottom: 15px;">충전소 문제점</h3>
							<div class="panel">
								<div class="panel-heading">
									<h3 class="panel-title">충전 시설 관련 민원</h3>
								</div>
								<div class="panel-body">
									<div id="combo-chart" style="width:100%; height:400px; margin:auto;"></div>
								</div>
							</div>
						</div>

						<!-- 그래프(multiple) -->
						<!-- 페이지 우하단 -->
						<div class="col-md-6">
							<!-- 전기차 보조금 예측 그래프 -->
							<h3 style="text-align: center; margin-top:20px; margin-bottom: 15px;">전기차 보조금 예측</h3>
							<div class="panel">
								<div class="panel-heading">
									<h3 class="panel-title">예측 모델 결과</h3>
								</div>
								<div class="panel-body">
									<div id="line-chart" style="width:100%; height:400px; margin:auto;"></div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
			<!-- END MAIN CONTENT -->
		
		<!-- END MAIN -->

		<!-- 페이지 하단 copyright -->
		<div class="clearfix"></div>
		<footer>
			<div class="container-fluid">
				<p class="copyright">Shared by <i class="fa fa-love"></i><a href="https://bootstrapthemes.co">BootstrapThemes</a></p>
			</div>
		</footer>
		<!-- 페이지 하단 copyright END -->
	</div>
	<!-- END WRAPPER -->
	
	<!-- Javascript -->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>
	<!-- <script src="{% static 'vendor/jquery/jquery.min.js' %}"></script> -->
	<script src="{% static 'vendor/bootstrap/js/bootstrap.min.js' %}"></script>
	<script src="{% static 'vendor/jquery-slimscroll/jquery.slimscroll.min.js' %}"></script>
	<script src="{% static 'scripts/klorofil-common.js' %}"></script>

	<!-- 카카오 맵 api -->
	<script type="text/javascript" src="//dapi.kakao.com/v2/maps/sdk.js?appkey=e033816e8f4fac437e466060be505bae&libraries=clusterer"></script>
	<script src="{% static 'scripts/kakao_map.js' %}"></script>

	<!-- 구글 차트 api -->
	<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
	<script>
		// 차트 패키지(bar chart, line chart 등등) 로드
		google.charts.load('current', {packages: ['corechart']});
		// 차트 함수 호출
		google.charts.setOnLoadCallback(drawStacked);
		google.charts.setOnLoadCallback(drawBar);
		google.charts.setOnLoadCallback(drawCombo);
		google.charts.setOnLoadCallback(drawLine);

		// 연령별 차량 등록 대수 차트(stack)
		function drawStacked() {
			// 차트에 입력되는 데이터
			var data = new google.visualization.DataTable();
			data.addColumn('string', '{{ hAxis_title }}');
			data.addColumn('number', '{{ col1_title }}');
			data.addColumn('number', '{{ col2_title }}');
			data.addRows([
				{% for i in row_data %}['{{ i.0 }}', {{ i.1 }}, {{ i.2 }}],{% endfor %}
			]);
	
			// 차트 옵션
			var options = {
				isStacked: true,
				width: '100%'
			};
	
			// 차트 종류/위치 설정 후 생성
			var stack_chart = new google.visualization.ColumnChart(document.getElementById('stack-chart'));
		
			stack_chart.draw(data, options);	
		}

		// 전기차 관련 민원 차트(bar)
		function drawBar() {
			// 차트에 입력되는 데이터
			var data2 = new google.visualization.DataTable();
			data2.addColumn('string', '민원종류');
			data2.addColumn('number', '민원건수');
			data2.addRows([
				['충전시설',91],
				['구매지원',4.6],
				['정책건의/문의',1.8],
				['운행지원',1.4],
				['차량성능',1.2]
			]);

			// 차트 옵션
			var options2 = {
				width: '100%'
			}

			// 차트 종류/위치 설정 후 생성
			var bar_chart = new google.visualization.BarChart(document.getElementById('bar-chart'));

			bar_chart.draw(data2, options2);
		}

		// 충전시설 관련 민원 데이터 차트(combo)
		function drawCombo() {
			// 차트에 입력되는 데이터
			var data3 = new google.visualization.arrayToDataTable([
				['Year','충전방해','충전기 설치/개방 등','충전시설 관리/운영','합계'],
				['2016', 608.31, 90.12, 52.57, 751],
				['2017', 1215, 180, 105, 1500],
				['2018', 4050, 600, 350, 5000],
				['2019', 8910, 1320, 770, 11000],
				['2020', 12940.56, 1917.12, 1118.32, 15976]
			]);

			// 차트 옵션
			var options3 = {
				seriesType: 'bars',
				series: {3: {type: 'line'}}
			};

			// 차트 종류/위치 설정 후 생성
			var combo_chart = new google.visualization.ComboChart(document.getElementById('combo-chart'));

			combo_chart.draw(data3, options3);
		}
		
		// 연도별 전기차 보조금 예측 차트(line)
		function drawLine() {
			// 차트에 입력되는 데이터
			var data4 = new google.visualization.DataTable();

			data4.addColumn('string','year');
			data4.addColumn('number','real data');
			data4.addColumn('number','predict data');
			data4.addRows([
				['2016', 1700, 1600],
				['2017', 1900, 1800],
				['2018', 1900, 1950],
				['2019', 1600, 1670],
				['2020', 1520, 1400],
				['2021', 1500, 1500],
				['2022', 1100, 1110],
				['2023', , 1000]
			])

			// 차트 옵션
			var options4 = {
				series: {
					1: {curveType: 'function'}
				}
			};

			// 차트 종류/위치 설정 후 생성
			var line_chart = new google.visualization.LineChart(document.getElementById('line-chart'));

			line_chart.draw(data4, options4);
		}
	</script>
</body>
</html>
